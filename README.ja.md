# Ainimo - バーチャルAIペット

[English README](./README.md)

たまごっちスタイルのバーチャルペットWebアプリです。最初はとても賢くないAIを育てて、徐々に賢くなっていく様子を楽しめます。

## 特徴

### コア機能
- **外部AIなし**: すべての「知能」は決定論的ロジック、ルールベース動作、内部状態変化によってシミュレートされています
- **段階的な学習**: AIペットが赤ちゃんから大人まで、4つの知能段階を経て成長していく様子を見ることができます
- **インタラクティブアクション**: 会話、勉強、遊び、休憩でペットのステータスを育てます
- **豊富な会話**: 450以上の応答バリエーションがペットの成長とともに解放されます
- **永続化**: ブラウザに進捗が自動保存されます
- **多言語対応**: 日本語と英語の切り替えが可能です

### 実績システム
- **52種類の実績**: 8つのカテゴリにわたる実績をアンロック（はじめの一歩、献身、チャットマスター、休息名人、遊び名人、学者、ソーシャル、シークレット）
- **称号報酬**: 一部の実績は特別な称号をアンロックします
- **進捗トラッキング**: 実績の進捗とステータスを確認できます

### 性格システム
- **5つの性格タイプ**: あなたのアクションに基づいてAinimoの性格が決まります
  - 知的（勉強重視）
  - 社交的（会話重視）
  - 遊び好き（遊び重視）
  - 禅（休憩重視）
  - バランス型（ミックス）
- **動的な応答**: 性格タイプに基づいて応答が変化します
- **性格の固定**: 50アクション後、性格が永続的に決定されます

### ミニゲーム
- **4種類のゲーム**: 神経衰弱、リズム、パズル、クイズゲーム
- **難易度スケーリング**: Ainimoが賢くなるほどゲームが難しくなります
- **体力消費**: ゲームをプレイするには体力が必要です
- **報酬**: XP、コイン、アイテムドロップを獲得できます

### アイテム＆インベントリシステム
- **18種類の収集アイテム**: 帽子（6種）、アクセサリー（6種）、背景（6種）
- **レアリティ段階**: コモン、レア、エピック、レジェンダリー
- **装備システム**: アイテムを装備してAinimoをカスタマイズ
- **コイン経済**: ミニゲームからコインを獲得

### ビジュアルエフェクト
- **動的な天気**: 晴れ、曇り、雨、雪の天気エフェクト
- **季節テーマ**: 春、夏、秋、冬の装飾
- **昼夜サイクル**: 時間帯に応じたビジュアル変化
- **パーティクルエフェクト**: 浮遊するパーティクルとアニメーション
- **目の追従**: Ainimoの目がカーソルを追いかけます
- **浮遊するステータス表示**: ステータス変化の視覚的フィードバック

### UI/UX
- **美しいUI**: Tailwind CSSを使ったモダンでレスポンシブなデザイン
- **ダークモード**: システム、ライト、ダークテーマオプション
- **モバイルファースト**: デスクトップ、タブレット、モバイルでシームレスに動作
- **モーダルシステム**: 実績、インベントリ、ミニゲーム、設定用のクリーンなモーダルインターフェース

## 技術スタック

- **Next.js 16.0.7** (App Router)
- **React 19.0.0**
- **TypeScript 5**
- **Tailwind CSS 3.4**
- **localStorage/IndexedDB** による永続化
- **Jest** によるテスト（300以上のテスト）

## はじめに

### 前提条件

- Node.js 18+ と npm

### インストール

1. プロジェクトディレクトリに移動:
```bash
cd ainimo
```

2. 依存関係をインストール:
```bash
npm install
```

3. 開発サーバーを起動:
```bash
npm run dev
```

4. ブラウザで [http://localhost:3000](http://localhost:3000) を開く

## 遊び方

### 基本パラメータ

Ainimoには以下のステータスがあります:
- **レベル**: XPを獲得すると上がります
- **XP**: 経験値（レベルごとに0-100）
- **知能**: 応答の質に影響します（0-100）
- **記憶力**: 会話のコンテキストに影響します（0-100）
- **親密度**: 気分と応答に影響します（0-100）
- **体力**: アクションを実行するために必要です（0-100）

### アクション

- **会話**: Ainimoと会話して親密度を上げ、XPを獲得します
  - +5 XP、+2 親密度、+3 記憶力、-10 体力
- **勉強**: Ainimoをトレーニングして知能を上げます
  - +10 XP、+5 知能、+1 記憶力、-15 体力
- **遊ぶ**: 一緒に遊んで親密度と気分を上げます
  - +3 XP、+8 親密度、-20 体力
- **休憩**: 体力を回復します（1日3回まで）
  - +50 体力

### 知能段階

Ainimoの知能が成長すると、4つの段階を経て進化します:

1. **赤ちゃん (0-24)**: 簡単な音節と絵文字（「ばぶ！」「...」「ぐー...」）
2. **子供 (25-49)**: 基本的な単語とフレーズ（「ぼくAinimo！」「あそぼー！」）
3. **若者 (50-74)**: キーワード検出を伴う一貫した文章
4. **大人 (75-100)**: 記憶を持つ複雑で文脈を認識した応答

### ミニゲーム

ミニゲームボタンをクリックしてアクセス:
- **神経衰弱**: 時間内にペアのカードをマッチさせる
- **リズム**: ビートに合わせてノートをタップ
- **パズル**: スライドタイルパズルを解く
- **クイズ**: 質問に答える（難易度は知能に基づく）

### ヒント

- 体力を20以上に保ってアクションを実行しましょう
- 最高の体験のためにすべてのステータスをバランスよく育てましょう
- 頻繁に会話して記憶力を高め、文脈を認識した応答を見ましょう
- 定期的に勉強して賢い応答をアンロックしましょう
- ミニゲームをプレイしてコインとアイテムを獲得しましょう
- 実績をチェックして目標と称号報酬を確認しましょう

## プロジェクト構造

```
ainimo/
├── app/
│   ├── layout.tsx              # ルートレイアウト
│   ├── page.tsx                # メインページ
│   └── globals.css             # グローバルスタイル
├── components/
│   ├── AinimoPet.tsx           # ペットアバター表示
│   ├── StatusPanel.tsx         # ステータス可視化
│   ├── ChatLog.tsx             # メッセージ履歴
│   ├── ActionButtons.tsx       # アクションコントロール
│   ├── GameContainer.tsx       # メインゲームコンテナ
│   ├── AchievementModal.tsx    # 実績ビューア
│   ├── PersonalityBadge.tsx    # 性格表示
│   ├── SettingsModal.tsx       # 設定モーダル
│   ├── minigames/              # ミニゲームコンポーネント
│   │   ├── MiniGameModal.tsx
│   │   ├── MemoryGame.tsx
│   │   ├── RhythmGame.tsx
│   │   ├── PuzzleGame.tsx
│   │   └── QuizGame.tsx
│   ├── inventory/              # インベントリコンポーネント
│   │   ├── InventoryModal.tsx
│   │   ├── EquipmentPanel.tsx
│   │   └── ItemCard.tsx
│   └── effects/                # ビジュアルエフェクトコンポーネント
├── hooks/
│   ├── useGameState.ts         # ゲーム状態管理
│   ├── usePersistence.ts       # 自動保存/読み込みロジック
│   ├── useAchievements.ts      # 実績トラッキング
│   ├── useInventory.ts         # インベントリ管理
│   ├── useMiniGames.ts         # ミニゲーム状態
│   └── effects/                # ビジュアルエフェクトフック
├── lib/
│   ├── gameEngine.ts           # コアゲームロジック
│   ├── responseEngine.ts       # 応答生成
│   ├── achievementEngine.ts    # 実績ロジック
│   ├── personalityEngine.ts    # 性格システム
│   ├── miniGameEngine.ts       # ミニゲームロジック
│   ├── itemEngine.ts           # アイテム/インベントリロジック
│   ├── itemDefinitions.ts      # アイテム定義
│   ├── miniGameDefinitions.ts  # ゲーム設定
│   └── i18n.ts                 # 多言語対応
├── types/
│   ├── game.ts                 # ゲーム型定義
│   ├── achievement.ts          # 実績型
│   ├── personality.ts          # 性格型
│   ├── miniGame.ts             # ミニゲーム型
│   └── item.ts                 # アイテム型
└── __tests__/                  # テストファイル
```

## アーキテクチャ

### 純粋関数
すべてのゲームロジックは純粋関数として実装されており:
- 完全にテスト可能（300以上のテスト）
- 決定論的
- 理解と変更が容易

### シミュレートされた知能
「AI」は以下の方法でシミュレートされています:
- **キーワード検出**: 「こんにちは」「遊」「勉強」などの単語を認識
- **応答テンプレート**: 各知能段階用の事前作成された応答
- **気分修飾子**: 現在の気分に基づいて応答が変化
- **コンテキストメモリ**: 高い知能レベルで最近のメッセージを参照
- **性格の影響**: 発達した性格に基づいて応答が変化

### 状態管理
- **useGameState**: コアゲーム状態とアクションを管理
- **useAchievements**: 実績進捗をトラッキング
- **useInventory**: アイテムと装備を管理
- **usePersistence**: localStorageに自動保存（IndexedDBフォールバック付き）
- すべての状態更新は不変

## 本番環境用ビルド

```bash
npm run build
npm start
```

## 利用可能なスクリプト

- `npm run dev`: Turbopackを使った開発サーバーの起動
- `npm run build`: 本番環境用ビルド
- `npm start`: 本番サーバーの起動
- `npm run lint`: ESLintの実行
- `npm test`: テストの実行

## 進捗のリセット

設定ボタン（⚙️）をクリックし、「Ainimoをリセット」で全ての進捗をクリアして最初からやり直せます。

## ブラウザ互換性

- Chrome/Edge (最新2バージョン)
- Firefox (最新2バージョン)
- Safari (最新2バージョン)

localStorageまたはIndexedDBのサポートが必要です。

## ライセンス

ISC

## クレジット

Next.js、TypeScript、Tailwind CSSで作られました ❤️
外部AIは不使用 - すべての知能はシミュレーションです！
