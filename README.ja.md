# Ainimo - バーチャルAIペット

たまごっちスタイルのバーチャルペットWebアプリです。最初はとても賢くないAIを育てて、徐々に賢くなっていく様子を楽しめます。

## 特徴

- **外部AIなし**: すべての「知能」は決定論的ロジック、ルールベース動作、内部状態変化によってシミュレートされています
- **段階的な学習**: AIペットが赤ちゃんから大人まで、4つの知能段階を経て成長していく様子を見ることができます
- **インタラクティブアクション**: 会話、勉強、遊び、休憩でペットのステータスを育てます
- **豊富な会話**: 450以上の応答バリエーションがペットの成長とともに解放されます
- **ビジュアルエフェクト**: 動的な天気、パーティクルエフェクト、目の追従、浮遊するステータス表示、スムーズなアニメーション
- **永続化**: ブラウザに進捗が自動保存されます
- **美しいUI**: Tailwind CSSを使ったモダンでレスポンシブなデザインとダークモード対応
- **モバイルファースト**: デスクトップ、タブレット、モバイルでシームレスに動作します
- **多言語対応**: 日本語と英語の切り替えが可能です

## 技術スタック

- **Next.js 16.0.7** (App Router)
- **React 19.0.0**
- **TypeScript 5**
- **Tailwind CSS 3.4**
- **localStorage/IndexedDB** による永続化

## はじめに

### 前提条件

- Node.js 18+ と npm

### インストール

1. プロジェクトディレクトリに移動:
```bash
cd ainimo
```

2. 依存関係をインストール:
```bash
npm install
```

3. 開発サーバーを起動:
```bash
npm run dev
```

4. ブラウザで [http://localhost:3000](http://localhost:3000) を開く

## 遊び方

### 基本パラメータ

Ainimoには以下のステータスがあります:
- **レベル**: XPを獲得すると上がります
- **XP**: 経験値（レベルごとに0-100）
- **知能**: 応答の質に影響します（0-100）
- **記憶力**: 会話のコンテキストに影響します（0-100）
- **親密度**: 気分と応答に影響します（0-100）
- **体力**: アクションを実行するために必要です（0-100）

### アクション

- **会話**: Ainimoと会話して親密度を上げ、XPを獲得します
  - +5 XP、+2 親密度、+3 記憶力、-10 体力
- **勉強**: Ainimoをトレーニングして知能を上げます
  - +10 XP、+5 知能、+1 記憶力、-15 体力
- **遊ぶ**: 一緒に遊んで親密度と気分を上げます
  - +3 XP、+8 親密度、-20 体力
- **休憩**: 体力を回復します
  - +50 体力

### 知能段階

Ainimoの知能が成長すると、4つの段階を経て進化します:

1. **赤ちゃん (0-24)**: 簡単な音節と絵文字（「ばぶ！」「...」「ぐー...」）
2. **子供 (25-49)**: 基本的な単語とフレーズ（「ぼくAinimo！」「あそぼー！」）
3. **若者 (50-74)**: キーワード検出を伴う一貫した文章
4. **大人 (75-100)**: 記憶を持つ複雑で文脈を認識した応答

### ヒント

- 体力を20以上に保ってアクションを実行しましょう
- 最高の体験のためにすべてのステータスをバランスよく育てましょう
- 頻繁に会話して記憶力を高め、文脈を認識した応答を見ましょう
- 定期的に勉強して賢い応答をアンロックしましょう
- 体力が少なくなったら休憩を使いましょう

## プロジェクト構造

```
ainimo/
├── app/
│   ├── layout.tsx          # ルートレイアウト
│   ├── page.tsx            # メインページ
│   └── globals.css         # グローバルスタイル
├── components/
│   ├── AinimoPet.tsx       # ペットアバター表示
│   ├── StatusPanel.tsx     # ステータス可視化
│   ├── ChatLog.tsx         # メッセージ履歴
│   ├── ActionButtons.tsx   # アクションコントロール
│   └── GameContainer.tsx   # メインゲームコンテナ
├── hooks/
│   ├── useGameState.ts     # ゲーム状態管理
│   ├── usePersistence.ts   # 自動保存/読み込みロジック
│   ├── useDarkMode.ts      # ダークモード管理
│   ├── useLanguage.ts      # 言語管理
│   └── effects/
│       ├── useParticles.ts     # パーティクルシステム
│       ├── useWeather.ts       # 天気エフェクト
│       ├── useEyeTracking.ts   # 目の追従アニメーション
│       └── useFloatingValues.ts # 浮遊するステータス表示
├── lib/
│   ├── gameEngine.ts       # コアゲームロジック（純粋関数）
│   ├── responseEngine.ts   # 応答生成
│   ├── responseTemplates.ts # 応答テンプレート（英語/日本語）
│   ├── storage.ts          # ストレージ抽象化
│   ├── constants.ts        # ゲーム定数
│   └── i18n.ts             # 多言語対応
├── types/
│   ├── game.ts             # ゲーム型定義
│   ├── responses.ts        # 応答型定義
│   └── effects.ts          # ビジュアルエフェクト型定義
└── package.json
```

## アーキテクチャ

### 純粋関数

すべてのゲームロジックは`lib/gameEngine.ts`の純粋関数として実装されており:
- 完全にテスト可能
- 決定論的
- 理解と変更が容易

### シミュレートされた知能

「AI」は以下の方法でシミュレートされています:
- **キーワード検出**: 「こんにちは」「遊」「勉強」などの単語を認識
- **応答テンプレート**: 各知能段階用の事前作成された応答
- **気分修飾子**: 現在の気分に基づいて応答が変化
- **コンテキストメモリ**: 高い知能レベルで最近のメッセージを参照

### 状態管理

- **useGameState**: ゲーム状態とアクションを管理
- **usePersistence**: localStorageに自動保存（IndexedDBフォールバック付き）
- **useDarkMode**: ダークモードの切り替えとテーマ管理
- **useLanguage**: 言語の切り替えと自動検出
- すべての状態更新は不変

## 本番環境用ビルド

```bash
npm run build
npm start
```

## 利用可能なスクリプト

- `npm run dev`: Turbopackを使った開発サーバーの起動
- `npm run build`: 本番環境用ビルド
- `npm start`: 本番サーバーの起動
- `npm run lint`: ESLintの実行
- `npm test`: テストの実行

## 進捗のリセット

設定パネルの「Ainimoをリセット」ボタンをクリックすると、すべての進捗をクリアして最初からやり直せます。

## ブラウザ互換性

- Chrome/Edge (最新2バージョン)
- Firefox (最新2バージョン)
- Safari (最新2バージョン)

localStorageまたはIndexedDBのサポートが必要です。

## ライセンス

ISC

## クレジット

Next.js、TypeScript、Tailwind CSSで作られました ❤️
外部AIは不使用 - すべての知能はシミュレーションです！
